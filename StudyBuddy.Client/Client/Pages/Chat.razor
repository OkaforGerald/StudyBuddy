@page "/chat"
@using Blazored.LocalStorage;
@using Microsoft.AspNetCore.SignalR.Client
@using StudyBuddy.Client.Client.HttpRepository;
@inject NavigationManager navigationManager 
@inject IMessageService messageService
@inject IAuthenticationService authService
@implements IAsyncDisposable

<style>
    body {
        background-color: #e5e5e5; /* Set a light background color */
    }

    h3 {
        color: #128C7E; /* WhatsApp green color */
    }

    .row {
        background-color: #fff; /* White background for the chat container */
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin: 20px auto;
        padding: 20px;
    }

    label {
        color: #128C7E; /* WhatsApp green color for labels */
    }

    input[type="text"] {
        border: 1px solid #128C7E; /* WhatsApp green border for text input */
        border-radius: 5px;
        padding: 8px;
        width: 100%;
        margin-top: 5px;
    }

    button {
        background-color: #128C7E; /* WhatsApp green button background */
        color: #fff; /* White text color for the button */
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    button:disabled {
        background-color: #ccc; /* Light gray for disabled button */
        cursor: not-allowed;
    }

    pre {
        background-color: #f0f0f0; /* Light gray background for chat messages */
        padding: 10px;
        border-radius: 5px;
        overflow: auto;
        max-height: 300px; /* Adjust the max-height as needed */
    }

    .col-md-4, .col-md-7 {
        padding: 10px;
    }

    /* Add pink and purple accents */
    .accent-purple {
        color: #9b59b6;
    }

    .accent-pink {
        color: #e74c3c;
    }
</style>

<h3>Chat</h3>
<div class="row">
    <div class="col-md-4">
        <div class="control-group">
            <div>
                <label for="broadcastMsg">Message</label>
                <input @bind="message" type="text" id="broadcastMsg" name="broadcastMsg" />
            </div>
            <button @onclick="BroadcastMessage" disabled="@(!IsConnected)">Broadcast</button>
        </div>
    </div>
    <div class="col-md-7">
        <p class="accent-purple">SignalR Messages:</p>
        <pre class="accent-pink">
            @foreach (var message in messages)
            {
                @message<br />
            }
        </pre>
    </div>
</div>



